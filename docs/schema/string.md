---
sidebar_position: 20
---

# 文字列
文字列型およびその派生型に関するスキーマ定義について説明します。

## 文字数制約
|maxLen / 最大長|属性の値の最大長。WebUI でのチェック、LDAPスキーマや RDBスキーマの生成時にデータ型として出力、Validateチェック、ヘルプの生成|number|データ型が文字列のときのみ有効|
|minLen / 最小長|属性の値の最小長。WebUI でのチェック、LDAPスキーマや RDBスキーマの生成時にデータ型として出力、Validateチェック、ヘルプの生成|number|データ型が文字列のときのみ有効|


### 最低文字数0の文字列
データを Web UI に表示した際に長さ 0 の文字列と null と区別することはできません。このため最低文字数が0の文字列は推奨されません。最低文字数を1以上として nullable を使用してください。

# 文字列値の補正と正規化

属性の文字列制約 \(stringRestriction\) によって、文字列のパターンを制限した場合、ガジェットで値の補正と正規化が行われます。

## 補正と正規化

属性のデータ型が文字列（ type="string" ）である場合、 文字列制約によって、文字列のパターンを制限できます。ガジェットからこの属性に値を入力する場合、以下のように補正や正規化が行われます。

|stringRestriction|呼称|使用できる文字種および文字列パターン|補正と正規化|
|-----------------|---|------------------|------|
|systemid|システムID|アルファベット \(a-zA-Z\) から始まり、２文字目以降はアルファベット、数値、記号\(「\_」\)|補正・正規化を行わない|
|id|ID文字種|数値 \(0-9\)、アルファベット \(a-zA-Z\)、記号\(「!」「$」「%」「\(」「\)」「\*」「-」「.」「/」「=」「?」「@」「\[」「\]」「^」「\_」「\`」「\{」「\|」「\}」「~」\)|補正・正規化を行わない|
|hiragana|ひらがな|ひらがな、全角スペースおよびのばし棒|半角スペース→全角スペース、カタカナ→ひらがな、ハイフン→のばし棒に補正する|
|katakana|カタカナ|全角カタカナ、全角スペースおよびのばし棒。半角カタカナは使用できない|半角スペース→全角スペース、ひらがな→カタカナ、ハイフン→のばし棒、半角カタカナ→カタカナに補正する|
|password|パスワード文字種|暗号化状態と平文状態で制約が異なる。 -   先頭文字が「\{」である場合は、暗号化状態と解釈され、[暗号化設定](../reference/crypt) に記載されている形式に従わなければならない（属性に暗号化設定が行われていなくてもそう解釈される）。先頭文字が「\{」でない場合は、平文状態と解釈され、システム設定オブジェクトのパスワードポリシーに従っていなければならない|補正・正規化を行わない|
|macaddr|MACアドレス|0 ～ 9 の数値、大文字の A ～ F までのアルファベットおよび区切り文字からなる MACアドレス形式。使用可能な形式は、xx-xx-xx-xx-xx-xx、xx:xx:xx:xx:xx:xx、xxxx.xxxx.xxxx、xxxxxx-xxxxxx、xxxxxx:xxxxxx、xxxxxxxxxxxx|スペース→削除、区切り記号→削除、小文字→大文字で正規化|
|mailaddr|メールアドレス|ローカル部は、英数字、記号\(「'」「-」「.」「\_」\)からなる64文字以内。ドメイン部は、半角文字列（半角カタカナは除く）|補正・正規化を行わない|
|formula|計算式|IDM2 が提供する[組み込み関数](../reference/expression)|補正・正規化を行わない|
|query|問い合わせ式|IDM2 が提供する[問い合わせ式](../reference/querymongoDB)|補正・正規化を行わない|
|dn|DN|属性値の文字列は RFC2253 に記述されているルールに従っていなければならない|RDNの区切り文字のセミコロンをコンマで正規化。name-componentと','の間、attributeTypeAndValueと'+'の間、attributeTypeと'='の間、および、'='とattributeValueの間の空白文字を削除|

文字種制約の設定に関わらず、改行コード　CR, LF は　CR+LF に変換します。改行、タブコード以外の制御文字（0x20 未満の文字コードをもつもの）は削除されます。
