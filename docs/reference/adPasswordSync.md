---
author: Procube Co.,Ltd.
---

# Active Directory パスワード同期

Active Directory のドメインコントローラに対して行ったパスワード変更に同期する機能を提供します。

## パスワード変更インタフェース

Active Directory パスワード同期では[パスワード変更サーブレット](changePassword.md)と同じパスワード変更インタフェースが使用されます。注意事項に関しても同様です。

[システム設定オブジェクト](systemSetting)にADパスワード同期鍵を設定する必要があります。

## インストール方法

インストールはすべてのドメインコントローラに対して行ってください。マルチマスタ構成でも同様です。

１．64ビット環境ではNetSoarerPasswordSyncInstaller\(x64\).msiを、32ビット環境ではNetSoarerPasswordSyncInstaller\(x86\).msiをインストールします。

２．サーバを再起動します。

３．NetSoarer Active Directory パスワード同期設定ツールを起動し、NetSoarer サーバ URL、ADパスワード同期鍵を設定します。設定変更後の再起動は不要です。

## レジストリ

HKEY\_LOCAL\_MACHINE\\SOFTWARE\\NetSoarer\\PasswordSync のレジストリの設定項目について説明します。

|キー|説明|
|---|---|
|url|NetSoarer サーバの URL を設定します。最後の /ADPasswordSync/ まで含めるようにしてください。ドメイン部が255文字まで、全体で500文字までに制限されています。|
|key|システム設定オブジェクトの ADパスワード同期鍵を設定します。255文字までに制限されています。|
|useInvalidSSL|NetSoarer サーバが試験用の SSL を使用している場合、true に設定してください。|
|logSuccess|trueの場合、パスワードチェックおよび変更のそれぞれのフェーズについて成功したアカウントを記載したイベントログが出力されます。|
|logPasswordFailure|trueの場合、パスワードチェックに失敗したアカウントを記載したイベントログが出力されます。|
|logConnectionFailure|trueの場合、サーバ接続エラーで失敗したアカウントを記載したイベントログが出力されます。設定にかかわらず、接続エラーの内容のイベントログは出力されます。|

## エラーメッセージ

ここでは、Active Directory パスワード同期サーブレットのエラーメッセージを示します。表中の斜体の部分はメッセージに具体的な情報が含まれることを示します。

|メッセージ|補足説明|
|-----|----|
|ユーザー（*ユーザID*）のパスワード変更を同期しました。| |
|システム設定オブジェクトが取得できなかったため、パスワード変更は不許可になりました。| |
|ADパスワード同期鍵が設定されていなかったため、パスワード変更は不許可になりました。| |
|PW変更インタフェースが設定されていなかったため、パスワード変更は不許可になりました。| |
|リクエスト内容にエラーがあり、パスワード変更は不許可になりました。ADパスワード同期鍵が間違っている可能性があります。| |
|管理対象外ユーザー（*ユーザID*）のパスワード変更を許可しました。| |
|ADパスワード同期処理に失敗しました。\[*\(エラー詳細メッセージ\)*\]| |
|ADパスワード同期処理に失敗しました。| |
|ユーザー（*ユーザID*）のパスワード変更時にサーバーがエラーを返しました。\[*\(エラー詳細メッセージ\)*\]| |
|ユーザー（*ユーザID*）の取得時に複数のユーザが見つかりました。| |
