---
author: Procube Co.,Ltd.
---

# 更新伝播設定

更新伝播設定はオブジェクトに更新があった場合に、他のオブジェクトや自オブジェクトの属性の値を自動的に更新する設定を定義します。

## 更新の伝播

BindBroker はこの情報をもとにマスタデータベースに対して追加で属性値の更新を行った上で、プロビジョニング要求にその属性の更新内容を追加します。この更新の内容はタスクプランナーに引き渡され、他システムへプロビジョニングされます。

-   このオブジェクトを内包している属性定義で定義される属性を伝播先保持属性と呼び、伝播先保持属性を持つクラスを伝播元クラスと呼ぶ
-   伝播先保持属性は伝播先のクラスのキー属性の値を保持する属性であり、文字列型でなければならない
-   伝播先保持属性が配列ではない場合、値が変更された際に変更前の値が指しているオブジェクトと変更後の値が指ししているオブジェクトのに対して伝播する
-   伝播先保持属性が配列である場合、要素が追加・削除された際に、追加された要素と削除された要素のすべてに対して伝播処理が行われる
-   プロビジョニング実行時に伝播する機能であるので、プロビジョニングを行わない System データベース上のクラスでは意味を持たない
-   導出式 \(derivation\) では、自クラス内に伝播元オブジェクトへのポインタとなる属性を保持している場合が多く、この場合は、伝播元クラスに自クラスへの逆ポインタとなる属性を追加し、そこに自オブジェクトへのポインタを伝播させてから、伝播元クラスからの伝播プロビジョニングを設定することにより、自分を更新することができる
-   内包オブジェクトに更新伝播を設定することはできない。
-   更新伝播設定を追加・更新・削除しても、登録済みのオブジェクトのデータ更新は行われない。

## データ型

更新伝播設定の属性は以下の通りです。

|名前 / 表示名|説明|データ型|修飾子|
|--------|---|----|---|
|refClassName / 伝播先クラス|伝播先クラス -   伝播先保持属性はここで指定されたクラスのキー属性の値を保持しており、プロビジョニング反映後のマスタデータベース上に存在するオブジェクトを指していなければならない。伝播先のオブジェクトがプロビジョニング反映後のマスタデータベースに見つからない場合はプロビジョニング要求全体がエラーになる。ただし当該のプロビジョニング要求で伝播先のオブジェクトが削除されている場合にはエラーとならない。。省略された場合は伝播先は自オブジェクトになる|string|必須、定義されているクラスのいずれか|
|dependency / 依存属性|伝播元クラスの属性で、伝播先保持属性以外で伝播に影響する属性名のリスト。伝播元クラス上に定義されている属性を指定する。依存属性の値が変更されると、伝播処理が実行される|string\[\]| 伝播元クラスに定義されている属性のいずれか|
|targetProperty / 伝播先属性|伝播先の属性の属性名 -   伝播先属性は伝播先のクラスに定義されており、導出式属性が設定されていなければならない|string| |

## REST API パス

このオブジェクトにアクセスする場合の REST API のパスは以下の通りです。

|種別|パス|
|---|---|
|クラスの定義のパス|"/IDManager/\_classes/\_propagationSetting"|
|インスタンスのパス|属性定義に内包されているため REST パスはない|
