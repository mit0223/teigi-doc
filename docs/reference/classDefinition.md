---
sidebar_position: 10
---

# クラス定義

クラス定義はクラスのデータ構造を定義するオブジェクトです。このクラスのオブジェクトをリポジトリに作成することで、データベースでそのクラスのオブジェクトを管理できるようになります。

## 概要

クラス定義は複数の[属性定義](propertyDefinition)からなり、そのクラスのオブジェクトが持つことができる属性をまとめています。また、クラスのインタフェースを定める[インタフェース定義](interfaceDefinition.md)と関連づけてガジェットからアクセスできるようにすることができます。

## データ型

クラス定義の属性は以下の通りです。

|名前 / 表示名|説明|データ型|修飾子|
|--------|---|----|---|
|name / クラス名|クラスの名前|string|必須, システムID,一意|
|displayName / 表示名|クラスの表示名|string| |
|description / 説明|クラスの説明 -   ヘルプの生成に使用される|string| |
|propertyDefinitionList / 属性|[属性定義](propertyDefinition.md)のリスト|object\[\]|必須、属性定義オブジェクト|
|isPrimaryAndNestedObject / 内包オブジェクト兼用|クラスがデータベース上のトップレベルに出現し、さらに別のクラスで導出式により内包されているように出力されるかを示すフラグ。兼用する場合は true|boolean| |
|isNestedObject / 内包オブジェクト|クラスがデータベース上のトップレベルに出現するか、別のクラスに内包されるかを示すフラグ。内包される場合は true|boolean|-   内包オブジェクト兼用フラグが false のときのみ有効|
|keyProperty / キー属性|キーとなる属性の名前|string|必須、システムID、内包オブジェクトが false のときのみ有効|
|subKeyProperty / サブキー属性|サブキーとなる属性の名前。サブキー属性は、新規時には編集できるが、更新できない。|string\[\]|システムID、内包オブジェクトが false のときのみ有効|
|validation / バリデーション|クラスのオブジェクトを新規登録時および更新時に内容の整合性をチェックする [バリデーション定義](validationDefinition)の配列|object\[\]|バリデーション定義オブジェクト|
|outputLdapSchema / LDAPスキーマ生成|OpenLDAP へのプロビジョニングで、このクラスのスキーマを生成するかいなかを表すフラグ|boolean||
|ldapSuperClass / LDAPスーパークラス|このクラスを OpenLDAP 上のスキーマへのプロビジョニングする際に、スーパークラスとして指定するクラスの名前|string|ID文字種、LDAPスキーマ生成が true のときのみ有効|

## データが存在するクラス定義を変更する場合の注意事項

クラス定義を参照するデータが存在する状態でクラス定義を変更する場合には、データが矛盾しないよう、以下の点に注意してください。

-   データが存在する状態でキー属性を変更することはできません。すべてのデータを削除した後に、変更してください。
-   必須でない属性を必須にすると、データと矛盾する場合があります。すべてのデータについて、その属性の値を付与してから必須に変更してください。
-   データが存在する状態で属性を削除すると、データベース上に参照できない属性として残る場合があります。 すべての属性値を削除した後に、属性を削除してください。
-   必須の属性を追加すると、データが矛盾します。変更後、すべてのデータについて、その属性の値を付与してください。
-   属性定義の属性を変更すると、データが矛盾する場合があります。 変更後、すべてのデータについて、その属性の値が矛盾しないように変更してください。
-   プロビジョニングが設定されている場合は、プロビジョニング先も含めてデータが矛盾しないように注意してください。

## REST API パス

このオブジェクトにアクセスする場合の REST API のパスは以下の通りです。

|種別|パス|
|---|---|
|クラスの定義のパス|/IDManager/\_classes/\_classDefinition|
|インスタンスのパス|/IDManager/\_classes/:className|
|リポジトリ編集時のパス|/IDManager/\_sandboxClasses|

**Parent topic:**[データベース設定](../reference/dbconfig.md)

