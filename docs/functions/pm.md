---
sidebar_position: 10
---

# パッケージマネージャ

Teigi のアプリケーションは Teigi パッケージマネージャにより管理されます。
Teigi パッケージマネージャは tar ファイル、 git リポジトリなどからファイルを読み込み、 Teigi データベースに展開します。

## オブジェクトパス

Teigi のオブジェクトにはオブジェクトを一意に特定できるオブジェクトパスが付与されます。
オブジェクトパスを移動することはできず、

## レイヤ機能

Teigi のパッケージマネージャは複数のレイヤから構成されます。

### meta

meta レイヤは teigi が扱うオブジェクトのスキーマを保持します。

### default

default レイヤでは、 teigi のダッシュボードを提供します。

### packages

ID管理システム、ポータルなどのアプリケーションパッケージがインストールされるレイヤです。

### customize

アプリケーションのカスタマイズ情報を保持するレイヤです。

### environment

FQDNなどシステムが展開される環境に関する情報を保持するレイヤです。

## マージ機能

KVS では複数のレイヤ間で同じ Key を持つオブジェクトをマージして参照できます。マージでは以下の機能を提供します。
- オブジェクトの追加・削除
- 属性値の上書き
- 内包オブジェクトの再帰的マージ
- 順序付き配列への要素の追加、削除

<!-- 
オブジェクトは Key Value Store に格納される。
プリフィックスからサーバ上のディレクトリへの対応が取れる。
remote を指定すると git との連携が自動的に行われる。
git の差分情報から差分レイヤーを生成する機能あり？
Layer マージとは別に個別オブジェクトの派生元指定によるマージもできる -->

<!-- ## 版管理

イベントから発生するプロビジョニングがイベント発生時点の内容を参照するようにする。
これは、動的 Layer によって実装される。 -->